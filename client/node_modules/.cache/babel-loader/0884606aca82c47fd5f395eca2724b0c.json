{"ast":null,"code":"var ElementType = require(\"domelementtype\"),\n    isTag = ElementType.isTag;\n\nmodule.exports = {\n  getInnerHTML: getInnerHTML,\n  getOuterHTML: getOuterHTML,\n  getText: getText\n};\n\nfunction getInnerHTML(elem) {\n  return elem.children ? elem.children.map(getOuterHTML).join(\"\") : \"\";\n} //boolean attributes without a value (taken from MatthewMueller/cheerio)\n\n\nvar booleanAttribs = {\n  __proto__: null,\n  async: true,\n  autofocus: true,\n  autoplay: true,\n  checked: true,\n  controls: true,\n  defer: true,\n  disabled: true,\n  hidden: true,\n  loop: true,\n  multiple: true,\n  open: true,\n  readonly: true,\n  required: true,\n  scoped: true,\n  selected: true\n};\nvar emptyTags = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  link: true,\n  meta: true,\n  param: true,\n  embed: true\n};\n\nfunction getOuterHTML(elem) {\n  switch (elem.type) {\n    case ElementType.Text:\n      return elem.data;\n\n    case ElementType.Comment:\n      return \"<!--\" + elem.data + \"-->\";\n\n    case ElementType.Directive:\n      return \"<\" + elem.data + \">\";\n\n    case ElementType.CDATA:\n      return \"<!CDATA \" + getInnerHTML(elem) + \"]]>\";\n  }\n\n  var ret = \"<\" + elem.name;\n\n  if (\"attribs\" in elem) {\n    for (var attr in elem.attribs) {\n      if (elem.attribs.hasOwnProperty(attr)) {\n        ret += \" \" + attr;\n        var value = elem.attribs[attr];\n\n        if (value == null) {\n          if (!(attr in booleanAttribs)) {\n            ret += \"=\\\"\\\"\";\n          }\n        } else {\n          ret += \"=\\\"\" + value + \"\\\"\";\n        }\n      }\n    }\n  }\n\n  if (elem.name in emptyTags && elem.children.length === 0) {\n    return ret + \" />\";\n  } else {\n    return ret + \">\" + getInnerHTML(elem) + \"</\" + elem.name + \">\";\n  }\n}\n\nfunction getText(elem) {\n  if (Array.isArray(elem)) return elem.map(getText).join(\"\");\n  if (isTag(elem) || elem.type === ElementType.CDATA) return getText(elem.children);\n  if (elem.type === ElementType.Text) return elem.data;\n  return \"\";\n}","map":null,"metadata":{},"sourceType":"script"}